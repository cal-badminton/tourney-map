{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Ryan\\\\Dropbox\\\\tourneymap\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Ryan\\\\Dropbox\\\\tourneymap\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Ryan\\\\Dropbox\\\\tourneymap\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Ryan\\\\Dropbox\\\\tourneymap\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Ryan\\\\Dropbox\\\\tourneymap\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Ryan\\\\Dropbox\\\\tourneymap\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ryan\\\\Dropbox\\\\tourneymap\\\\client\\\\src\\\\js\\\\Tourney.js\";\nimport React from 'react';\nimport Tile from './Tile.js';\nimport Menu from './Menu.js';\n\nvar Tourney =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Tourney, _React$Component);\n\n  function Tourney(props) {\n    var _this;\n\n    _classCallCheck(this, Tourney);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tourney).call(this, props));\n    _this.id = atob(props.id);\n    _this.createRow = _this.createRow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createMap = _this.createMap.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateMap = _this.updateMap.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateTile = _this.updateTile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.makeTile = _this.makeTile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.row = 0;\n    _this.col = 0;\n    _this.state = {\n      map: new Array(10).fill(new Array(18).fill(\"\")),\n      display: _this.createMap(),\n      menu: [\"\", \"\", \"\", \"\"]\n    };\n    props.socket.emit('get tourney', _this.id);\n    props.socket.on('load tourney', function (data) {\n      if (this.mounted) {\n        console.log(data);\n        this.updateMap(data.map);\n      }\n    }.bind(_assertThisInitialized(_assertThisInitialized(_this))));\n    return _this;\n  }\n\n  _createClass(Tourney, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: \"createMap\",\n    value: function createMap() {\n      var map = [];\n\n      for (var i = 0; i < 10; i++) {\n        map.push(this.createRow(i));\n      }\n\n      return map;\n    }\n  }, {\n    key: \"createRow\",\n    value: function createRow(n) {\n      var row = [];\n\n      for (var i = 0; i < 18; i++) {\n        console.log(this.state.map);\n        row.push(React.createElement(Tile, {\n          row: n,\n          col: i,\n          type: this.state.map[n][i][0],\n          title: this.state.map[n][i][1],\n          info: this.state.map[n][i][2],\n          highlight: this.state.map[n][i][3],\n          click: this.handleClick,\n          drop: this.handleDrop,\n          key: i + 100 * n,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }));\n      }\n\n      var out = [];\n      out.push(React.createElement(\"div\", {\n        className: \"grid-row\",\n        key: 1000 * n,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, row));\n      return out;\n    }\n  }, {\n    key: \"updateMap\",\n    value: function updateMap(newMap) {\n      this.setState({\n        map: newMap\n      });\n      var copy = this.state.display.slice();\n\n      for (var i = 0; i < 10; i++) {\n        for (var j = 0; j < 18; j++) {\n          var type = this.state.map[i][j][0];\n          var title = this.state.map[i][j][1];\n          var info = this.state.map[i][j][2];\n          var highlight = this.state.map[i][j][3];\n          copy[i][j] = this.makeTile(i, j, type, title, info, highlight);\n        }\n      }\n\n      this.setState({\n        display: copy\n      });\n    }\n  }, {\n    key: \"updateTile\",\n    value: function updateTile(row, col, type, title, info, highlight) {\n      var copy = this.state.map.slice();\n      var dcopy = this.state.display.slice();\n      dcopy[row][col] = this.makeTile(row, col, type, title, info, highlight);\n      copy[row][col] = [type, title, info, highlight];\n      this.setState({\n        map: copy,\n        display: dcopy\n      });\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e) {\n      e.preventDefault();\n      var r1 = parseInt(e.dataTransfer.getData(\"row\"));\n      var c1 = parseInt(e.dataTransfer.getData(\"col\"));\n      var r2 = e.target.getAttribute(\"data-row\");\n      var c2 = e.target.getAttribute(\"data-col\");\n      var temp = this.state.map[r1][c1];\n      var copy = this.state.map.slice();\n      copy[r1][c1] = copy[r2][c2];\n      copy[r2][c2] = temp;\n      this.updateMap(copy);\n      console.log(copy);\n      this.setState({\n        map: copy\n      });\n      console.log(\"switched!\");\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      console.log(\"clicked!\");\n      console.log(e.target);\n      var row = e.target.getAttribute(\"data-row\");\n      var col = e.target.getAttribute(\"data-col\");\n      var vals = this.state.map[row][col];\n      this.setState({\n        menu: vals\n      });\n      this.row = row;\n      this.col = col;\n    }\n  }, {\n    key: \"makeTile\",\n    value: function makeTile(row, col, type, title, info, highlight) {\n      return React.createElement(Tile, {\n        row: row,\n        col: col,\n        type: type,\n        title: title,\n        click: this.handleClick,\n        info: info,\n        highlight: highlight,\n        drop: this.handleDrop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('hiaaa');\n      return React.createElement(\"div\", {\n        className: \"tourney\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        name: this.id,\n        type: this.state.menu[0],\n        title: this.state.menu[1],\n        info: this.state.menu[1],\n        highlight: this.state.menu[2],\n        row: this.row,\n        col: this.col,\n        updateTile: this.updateTile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"tourney-display\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tourney-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, this.state.display)));\n    }\n  }]);\n\n  return Tourney;\n}(React.Component);\n\nexport default Tourney;","map":{"version":3,"sources":["C:\\Users\\Ryan\\Dropbox\\tourneymap\\client\\src\\js\\Tourney.js"],"names":["React","Tile","Menu","Tourney","props","id","atob","createRow","bind","createMap","updateMap","updateTile","makeTile","handleDrop","handleClick","row","col","state","map","Array","fill","display","menu","socket","emit","on","data","mounted","console","log","i","push","n","out","newMap","setState","copy","slice","j","type","title","info","highlight","dcopy","e","preventDefault","r1","parseInt","dataTransfer","getData","c1","r2","target","getAttribute","c2","temp","vals","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Tile from './Tile.js';\r\nimport Menu from './Menu.js';\r\n\r\nclass Tourney extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.id = atob(props.id);\r\n    this.createRow = this.createRow.bind(this);\r\n    this.createMap = this.createMap.bind(this);\r\n    this.updateMap = this.updateMap.bind(this);\r\n    this.updateTile = this.updateTile.bind(this);\r\n    this.makeTile = this.makeTile.bind(this);\r\n    this.handleDrop = this.handleDrop.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.row = 0;\r\n    this.col = 0;\r\n    this.state = {\r\n      map: new Array(10).fill(new Array(18).fill(\"\")),\r\n      display: this.createMap(),\r\n      menu: [\"\", \"\", \"\", \"\"]\r\n    };\r\n\r\n    props.socket.emit('get tourney', this.id);\r\n\r\n    props.socket.on('load tourney', function(data) {\r\n      if (this.mounted) {\r\n        console.log(data);\r\n        this.updateMap(data.map);\r\n      }\r\n    }.bind(this));\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.mounted = true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n  }\r\n\r\n  createMap() {\r\n    let map = [];\r\n    for (let i = 0; i < 10; i++) {\r\n      map.push(this.createRow(i));\r\n    }\r\n    return map;\r\n  }\r\n\r\n  createRow(n) {\r\n    let row = [];\r\n    for (let i = 0; i < 18; i++) {\r\n      console.log(this.state.map);\r\n      row.push(<Tile row={n} col={i} type={this.state.map[n][i][0]}\r\n        title={this.state.map[n][i][1]} info={this.state.map[n][i][2]}\r\n          highlight={this.state.map[n][i][3]} click={this.handleClick}\r\n            drop={this.handleDrop} key={i + 100 * n} />);\r\n    }\r\n    let out = []\r\n    out.push(<div className=\"grid-row\" key={1000 * n}>{row}</div>);\r\n    return out;\r\n  }\r\n\r\n  updateMap(newMap) {\r\n    this.setState({map: newMap});\r\n    var copy = this.state.display.slice();\r\n    for (let i = 0; i < 10; i++) {\r\n      for (let j = 0; j < 18; j++) {\r\n        let type = this.state.map[i][j][0];\r\n        let title = this.state.map[i][j][1];\r\n        let info = this.state.map[i][j][2];\r\n        let highlight = this.state.map[i][j][3];\r\n        copy[i][j] = this.makeTile(i, j, type, title, info, highlight);\r\n      }\r\n    }\r\n    this.setState({display: copy});\r\n  }\r\n\r\n  updateTile(row, col, type, title, info, highlight) {\r\n    let copy = this.state.map.slice()\r\n    let dcopy = this.state.display.slice();\r\n    dcopy[row][col] = this.makeTile(row, col, type, title, info, highlight);\r\n    copy[row][col] = [type, title, info, highlight];\r\n    this.setState({map: copy, display: dcopy});\r\n  }\r\n\r\n  handleDrop(e) {\r\n    e.preventDefault();\r\n    let r1 = parseInt(e.dataTransfer.getData(\"row\"));\r\n    let c1 = parseInt(e.dataTransfer.getData(\"col\"));\r\n    let r2 = e.target.getAttribute(\"data-row\");\r\n    let c2 = e.target.getAttribute(\"data-col\");\r\n    let temp = this.state.map[r1][c1];\r\n    let copy = this.state.map.slice();\r\n    copy[r1][c1] = copy[r2][c2];\r\n    copy[r2][c2] = temp;\r\n    this.updateMap(copy);\r\n    console.log(copy);\r\n    this.setState({map: copy});\r\n    console.log(\"switched!\");\r\n  }\r\n\r\n  handleClick(e) {\r\n    console.log(\"clicked!\");\r\n    console.log(e.target);\r\n    let row = e.target.getAttribute(\"data-row\");\r\n    let col = e.target.getAttribute(\"data-col\");\r\n    let vals = this.state.map[row][col];\r\n    this.setState({menu: vals});\r\n    this.row = row;\r\n    this.col = col;\r\n  }\r\n\r\n  makeTile(row, col, type, title, info, highlight) {\r\n    return (\r\n      <Tile row={row} col={col} type={type} title={title} click={this.handleClick}\r\n        info={info} highlight={highlight} drop={this.handleDrop} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    console.log('hiaaa');\r\n    return (\r\n      <div className=\"tourney\">\r\n        <Menu name={this.id} type={this.state.menu[0]}\r\n          title={this.state.menu[1]} info={this.state.menu[1]} highlight={this.state.menu[2]}\r\n            row={this.row} col={this.col} updateTile={this.updateTile} />\r\n        <div className=\"tourney-display\">\r\n          <div className=\"tourney-grid\">{this.state.display}</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Tourney;\r\n"]},"metadata":{},"sourceType":"module"}